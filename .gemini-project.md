# Gemini AI Project Context

## Project Summary
**3D Connect Four Game** - A modern web-based implementation of the classic Connect Four game with 3D graphics and online multiplayer functionality.

## Technical Stack
- **Framework**: Next.js 15.2.4 (App Router)
- **Language**: TypeScript
- **UI**: React 19 + Radix UI + Tailwind CSS
- **3D Graphics**: Three.js + React Three Fiber + Drei
- **Deployment**: Vercel-ready

## Architecture Overview

### Frontend Structure
```
app/
├── page.tsx              # Main game interface (30KB+ complex component)
├── layout.tsx            # Root layout with theme provider
├── globals.css           # Global styles and Tailwind imports
└── api/                  # Backend API routes
    └── game/             # Game-specific endpoints
        ├── create/       # Room creation logic
        ├── join/         # Room joining logic
        ├── quick-match/  # Matchmaking system
        └── [roomId]/     # Dynamic room management
            ├── start/    # Game initialization
            ├── move/     # Move processing
            ├── status/   # Game state queries
            └── leave/    # Room leaving
```

### Component Architecture
```
components/
├── game-page.tsx         # Core game component (45KB+)
├── online-menu.tsx       # Multiplayer menu interface
├── online-waiting.tsx    # Waiting room UI
├── title-page.tsx        # Main menu/title screen
├── theme-provider.tsx    # Dark/light theme management
├── background/           # Visual/aesthetic components
└── ui/                   # 50+ Radix UI components
    ├── button.tsx        # Custom button variants
    ├── dialog.tsx        # Modal dialogs
    ├── toast.tsx         # Notification system
    └── [other-ui-components]
```

### Business Logic
```
hooks/
├── useOnlineGame.ts      # Online multiplayer state management
├── use-toast.ts          # Toast notification system
└── use-mobile.ts         # Mobile device detection
```

## Key Features
1. **3D Game Board**: Interactive 3D Connect Four board using Three.js
2. **Online Multiplayer**: Real-time multiplayer with room system
3. **Responsive Design**: Mobile and desktop optimized
4. **Theme Support**: Dark/light mode toggle
5. **Modern UI**: Radix UI components with Tailwind styling

## Code Patterns

### Component Structure
- Large components (game-page.tsx, page.tsx) contain complex game logic
- UI components follow Radix UI patterns with Tailwind variants
- Hooks manage state and side effects
- API routes handle server-side game logic

### State Management
- React hooks for local state
- Custom hooks for complex logic (useOnlineGame)
- Context providers for theme management

### Styling Approach
- Tailwind CSS for utility-first styling
- Custom component variants using class-variance-authority
- Responsive design with mobile-first approach

## Development Context

### Main Entry Points
- **Game Logic**: `components/game-page.tsx`
- **API Layer**: `app/api/game/**`
- **UI Components**: `components/ui/**`
- **Custom Hooks**: `hooks/**`

### Dependencies of Note
- `@react-three/fiber` & `@react-three/drei`: 3D graphics
- `@radix-ui/*`: Accessible UI primitives
- `react-hook-form` + `zod`: Form handling and validation
- `tailwindcss`: Utility-first CSS framework
- `lucide-react`: Icon library

### Configuration Files
- `next.config.mjs`: Next.js configuration
- `tailwind.config.ts`: Tailwind customization (2.6KB config)
- `tsconfig.json`: TypeScript configuration
- `components.json`: Radix UI component settings

## AI Assistant Guidelines

### When Working on This Project:
1. **Game Logic**: Focus on `components/game-page.tsx` and `hooks/useOnlineGame.ts`
2. **UI Changes**: Modify components in `components/ui/` or create new ones
3. **API Development**: Add routes under `app/api/game/`
4. **Styling**: Use Tailwind classes and follow existing patterns
5. **3D Graphics**: Work with Three.js components in React Three Fiber context

### Common Tasks:
- Adding new game features → Update game-page.tsx
- UI improvements → Modify/create components in components/ui/
- API endpoints → Add routes in app/api/game/
- Styling changes → Update Tailwind classes
- Mobile optimization → Check use-mobile.ts hook usage

### Testing Considerations:
- Large components may need refactoring for testability
- API routes should handle edge cases
- 3D graphics performance on various devices
- Mobile responsiveness across different screen sizes
